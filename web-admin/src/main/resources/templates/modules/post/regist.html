<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
		layout:decorate="~{layouts/layout}">
	<head layout:fragment="~{layouts/layout::header}">
	<title>投稿管理｜Sample</title>
</head>
<body>
	<div layout:fragment="sidebar">
		<div th:replace="~{layouts/sidebar :: sidebar ('master', 'post')}"></div>
	</div>
	<div layout:fragment="content-header">
		<div class="row mb-2">
			<div class="col-sm-6">
				<h1 th:with="text=${postForm.isNew()} ? '投稿登録' : '投稿変更'" th:text="${text}"></h1>
			</div><!-- /.col -->
			<div class="col-sm-6">
				<ol class="breadcrumb float-sm-right" >
					<li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>
					<li class="breadcrumb-item"><a th:href="@{/post}">投稿管理</a></li>
					<li class="breadcrumb-item active" th:with="text=${postForm.isNew()} ? '投稿登録' : '投稿変更'" th:text="${text}"></li>
				</ol>
			</div><!-- /.col -->
		</div><!-- /.row -->
	</div>
	<div layout:fragment="content">

		<!-- Main content -->
		<div class="content">
			<div class="container-fluid">

				<div class="row">
					<div class="col-12">

						<div class="card card-purple">
							<div class="card-body">
								<form th:object="${postForm}" th:action="${action}" id="form1"
									th:with="action=${postForm.isNew()} ? @{/post} : @{/post/{id}(id=*{postId})}"
									enctype="multipart/form-data" th:method="${postForm.isNew()} ? 'post' : 'put'">
									<input type="hidden" name="version" th:value="*{version}" />
									<input th:replace="~{fragments/selectField :: select ('投稿者', 'userId', ${userList}, 'userId', 'familyName')}" />
									<input th:replace="fragments/inputField :: input ('text', 'タイトル', 'title')" />
									<input th:replace="fragments/textarea :: textarea ('本文', 'text', 4)" />
									<div class="card-footer clearfix text-center">
										<div class="text-left float-left">
											<a class="btn btn-secondary" th:href="@{/post}">一覧に戻る</a>
										</div>
										<button class="btn btn-secondary" th:with="text=${postForm.isNew()} ? '登録する' : '変更する'" th:text="${text}"></button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>